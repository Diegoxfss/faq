<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Include jsPDF library -->
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>

    <!-- Include html2pdf.js library -->
    <script defer src="https://cdn.jsdelivr.net/npm/html2pdf.js@0.10.0"></script>

    <!-- Your existing style tag -->

    <!-- Include html2pdf.bundle.js script -->
    <script defer src="https://rawgit.com/eKoopmans/html2pdf/master/dist/html2pdf.bundle.js"></script>
    <style>
        /* Add your styling here */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
        }

        #navbar {
            background-color: #333;
            overflow: hidden;
        }

        #navbar a {
            float: left;
            display: block;
            color: #f2f2f2;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
        }

        #navbar a:hover {
            background-color: #ddd;
            color: black;
        }

        #chat-container,
        #contact-container,
        #cv-container {
            max-width: 400px;
            margin: 20px auto;
            border: 1px solid #ccc;
            padding: 20px;
            border-radius: 10px;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        #user-input,
        #contact-form input,
        #contact-form textarea,
        #cv-form input,
        #cv-form textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        #chat-messages {
            margin-top: 10px;
            max-height: 200px;
            overflow-y: auto;
        }

        #faq {
            padding-top: 50px;
        }

        #notification {
            display: none;
            background-color: #4CAF50;
            color: white;
            text-align: center;
            padding: 10px;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1;
        }
    </style>
    <script src="https://rawgit.com/eKoopmans/html2pdf/master/dist/html2pdf.bundle.js"></script>
    <title>XIMFO FAQ Chatbot</title>
</head>

<body>

    <div id="notification">Message sent successfully!</div>

    <div id="navbar">
        <a href="#" onclick="showSection('faq')">FAQ</a>
        <a href="#" onclick="showSection('contact')">Contact Admin</a>
        <a href="#" onclick="showSection('cv')">CV</a>
    </div>

    <div id="faq">
        <!-- FAQ content here -->
        <!-- Add your FAQ content here -->
    </div>

    <div id="contact-container">
        <h2>Contact Admin</h2>
        <form id="contact-form">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required>

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>

            <label for="phone">Phone Number:</label>
            <input type="tel" id="phone" name="phone">

            <label for="message">Message:</label>
            <textarea id="message" name="message" required></textarea>

            <input type="submit" value="Submit">
        </form>
    </div>

    <div id="cv-container" style="display: none;">
        <h2>CV</h2>
        <form id="cv-form">
            <label for="cv-name">Full Name:</label>
            <input type="text" id="cv-name" name="cv-name" required>

            <label for="cv-email">Email:</label>
            <input type="email" id="cv-email" name="cv-email" required>

            <label for="cv-phone">Phone Number:</label>
            <input type="tel" id="cv-phone" name="cv-phone" required>

            <label for="cv-address">Address:</label>
            <textarea id="cv-address" name="cv-address" required></textarea>

            <label for="cv-education">Education:</label>
            <textarea id="cv-education" name="cv-education" required></textarea>

            <label for="cv-experience">Work Experience:</label>
            <textarea id="cv-experience" name="cv-experience" required></textarea>

            <label for="cv-skills">Skills:</label>
            <textarea id="cv-skills" name="cv-skills" required></textarea>

            <label for="cv-certifications">Certifications:</label>
            <textarea id="cv-certifications" name="cv-certifications"></textarea>

            <label for="cv-languages">Languages:</label>
            <textarea id="cv-languages" name="cv-languages"></textarea>

            <input type="submit" value="Print CV">
        </form>
    </div>

    <div id="chat-container">
        <div id="chat-messages"></div>
        <input type="text" id="user-input" placeholder="Type your question...">
        <button onclick="askQuestion()">Ask</button>
    </div>

    <script>
       const faq = [

            { question: "What is XIMFO about?", answer: "XIMFO is a platform for sharing content related to profiles, pictures, studies, and YouTube videos." },
            { question: "How can I update my profile?", answer: "You can update your profile by providing a new username, bio, and profile picture. Click the 'Update Profile' button to save the changes." },
            { question: "How do I upload a picture?", answer: "Navigate to the 'Upload Picture' section, choose a file, and click the 'Upload Picture' button." },
            { question: "What types of files can I upload for studies?", answer: "You can upload PDF, DOC, and DOCX files for studies." },
            { question: "How can I access the webchat?", answer: "Click the 'Open Webchat' button to enter the webchat room and interact with other users." },
            { question: "How can I view other users' profiles?", answer: "In the webchat, click on a user's picture to view their profile and interact with their content." },
            { question: "Can I like other users' pictures?", answer: "Yes, you can like other users' pictures by clicking the 'Like' button on their profile." },
            { question: "How can I download files from other users?", answer: "In a user's profile, you can find downloadable files. Click on the file to initiate the download." },
            { question: "How do I watch YouTube videos from other users?", answer: "On a user's profile, you will find a section for YouTube videos. Click on a video to watch, comment, and like it." },
            { question: "Is there a mobile app?", answer: "Currently, there is no mobile app for XIMFO, but you can access the website through a mobile browser." },
            { question: "How can I contact support?", answer: "You can reach our support team by visiting the 'Contact' section and filling out the contact form." },
            { question: "Can I collaborate with other users on studies?", answer: "Yes, you can collaborate by inviting other users to join your study group. Use the 'Invite' feature in the studies section." },
            { question: "What happens if I reach the storage limit?", answer: "If you reach the storage limit, consider upgrading to a premium account for additional space. Alternatively, delete old or unnecessary files to free up space." },
            { question: "Is there a limit to the number of pictures I can upload?", answer: "While there's no strict limit, be mindful of your storage space. Upgrade to a premium account if you require more space for pictures." },
            { question: "How can I change my profile picture?", answer: "Navigate to the 'Profile' section, click on your current profile picture, and choose a new image to set as your profile picture." },
            { question: "What are the guidelines for creating a strong password?", answer: "Ensure your password is at least 8 characters long, includes a mix of letters, numbers, and symbols. Avoid using easily guessable information like birthdays." },
            { question: "Can I share my study materials with other users?", answer: "Yes, you can share study materials by uploading them in the studies section. Other users can then view, download, and collaborate on the shared materials." },
            { question: "How can I discover new content on XIMFO?", answer: "Explore the 'Discover' section to find new and interesting content. The algorithm recommends content based on your preferences and interactions." },
            { question: "What features are planned for future updates?", answer: "We are actively working on implementing new features such as real-time notifications, enhanced search functionality, and an integrated calendar for study groups." },
            { question: "Can I use XIMFO for professional networking?", answer: "While XIMFO is primarily a content-sharing platform, you can connect with other users for professional networking. Utilize the 'Connect' feature on user profiles." },
            { question: "How secure is my personal information on XIMFO?", answer: "XIMFO prioritizes the security of user information. We use encryption protocols to safeguard your personal data and ensure a secure online environment." }
        ];

        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
        }

        function showSection(sectionId) {
            document.getElementById('faq').style.display = sectionId === 'faq' ? 'block' : 'none';
            document.getElementById('contact-container').style.display = sectionId === 'contact' ? 'block' : 'none';
            document.getElementById('cv-container').style.display = sectionId === 'cv' ? 'block' : 'none';
        }

        function askQuestion() {
            const userInput = document.getElementById('user-input').value;
            const chatMessages = document.getElementById('chat-messages');

            // Add user message to the chat
            chatMessages.innerHTML += `<div>User: ${userInput}</div>`;

            // Find the most similar question in the FAQ using a simple similarity calculation
            const mostSimilarQuestion = findMostSimilarQuestion(userInput);

            // Find the corresponding answer
            const answer = faq.find(item => item.question === mostSimilarQuestion)?.answer || "I'm sorry, I don't understand that question.";

            // Add bot's response to the chat
            chatMessages.innerHTML += `<div>Bot: ${answer}</div>`;

            // Clear user input
            document.getElementById('user-input').value = '';
        }

        function findMostSimilarQuestion(userInput) {
            // Use a simple similarity calculation
            let maxSimilarity = -1;
            let mostSimilarQuestion = '';

            faq.forEach(item => {
                const similarity = calculateSimilarity(userInput, item.question);

                if (similarity > maxSimilarity) {
                    maxSimilarity = similarity;
                                    mostSimilarQuestion = item.question;
                }
            });

            return mostSimilarQuestion;
        }

        function calculateSimilarity(str1, str2) {
            // A simple similarity calculation, you can replace it with a more sophisticated algorithm if needed
            const set1 = new Set(str1.toLowerCase().split(' '));
            const set2 = new Set(str2.toLowerCase().split(' '));

            const intersection = new Set([...set1].filter(x => set2.has(x)));
            const union = new Set([...set1, ...set2]);

            return intersection.size / union.size;
        }

        document.getElementById('contact-form').addEventListener('submit', function (event) {
            event.preventDefault();
            // Perform form submission logic here
            // For demonstration purposes, let's show a notification
            showNotification();
        });

        document.getElementById('cv-form').addEventListener('submit', function (event) {
            event.preventDefault();
            // Logic to handle CV submission/printing
            printCV();
        });

        function printCV() {
            // Gather CV details
            const cvName = document.getElementById('cv-name').value;
            const cvEmail = document.getElementById('cv-email').value;
            const cvPhone = document.getElementById('cv-phone').value;
            const cvAddress = document.getElementById('cv-address').value;
            const cvEducation = document.getElementById('cv-education').value;
            const cvExperience = document.getElementById('cv-experience').value;
            const cvSkills = document.getElementById('cv-skills').value;
            const cvCertifications = document.getElementById('cv-certifications').value;
            const cvLanguages = document.getElementById('cv-languages').value;

            // Create a new HTML document for the CV
            const cvContent = `
                <html>
                <head>
                    <title>${cvName}'s CV</title>
                    <style>
                        body {
                            font-family: 'Arial', sans-serif;
                        }
                        h2, h3 {
                            color: #333;
                        }
                        p {
                            margin-bottom: 10px;
                        }
                    </style>
                </head>
                <body>
                    <h2>${cvName}'s CV</h2>
                    <p><strong>Email:</strong> ${cvEmail}</p>
                    <p><strong>Phone:</strong> ${cvPhone}</p>
                    <p><strong>Address:</strong></p>
                    <p>${cvAddress}</p>
                    <h3>Education</h3>
                    <p>${cvEducation}</p>
                    <h3>Work Experience</h3>
                    <p>${cvExperience}</p>
                    <h3>Skills</h3>
                    <p>${cvSkills}</p>
                    <h3>Certifications</h3>
                    <p>${cvCertifications}</p>
                    <h3>Languages</h3>
                    <p>${cvLanguages}</p>
                </body>
                </html>
            `;

            // Convert the HTML content to PDF using html2pdf library
            html2pdf().from(cvContent).outputPdf(function (pdf) {
                // Open a new window to display the PDF
                const cvWindow = window.open('', '_blank');
                cvWindow.document.write('<html><head><title>CV</title></head><body>');
                cvWindow.document.write(`<embed width="100%" height="100%" name="plugin" src="${URL.createObjectURL(new Blob([pdf], { type: 'application/pdf' }))}" type="application/pdf">`);
                cvWindow.document.write('</body></html>');
            });
        }

        function showNotification() {
            const notification = document.getElementById('notification');
            notification.style.display = 'block';

            // Hide the notification after 3 seconds
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }
    </script>

</body>

</html>

